@page "/companieseditor"
@using VG.CDF.Client.Application.Dto


<MudTable Striped="true" Bordered="true" Items="@Companies"
          Dense="@dense"
          Hover="@hover">
     <ToolBarContent>
    <MudText Typo="Typo.h6">Компании</MudText>
    <MudSpacer/>
    <MudIconButton Icon="fa-solid fa-plus" Color="MudBlazor.Color.Primary" @onclick="@AddCompany" Title="Добавить">Добавить компанию</MudIconButton>
     </ToolBarContent>
    <ColGroup>
        <col style="width: 50px"/>
        <col style="width: 150px"/>
        <col style="width: 150px"/>
        <col style="width: 150px"/>
    </ColGroup>
    <HeaderContent>
        <MudTh>
            Название
        </MudTh>
        <MudTh>
            Действия
        </MudTh>
        <MudTh>
            Проекты
        </MudTh>
        <MudTh>
            Параметры
            </MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="name">@context.Name</MudTd>
        <MudTd>
            <MudIconButton Icon=@Icons.Material.Outlined.Edit Color="MudBlazor.Color.Primary" @onclick="@(e=>EditCompany(context))" Title="Изменить название"></MudIconButton>
            <MudIconButton Icon=@Icons.Material.Outlined.Delete Color="MudBlazor.Color.Error" @onclick="@(e=>DeleteCompany(context))" Title="Удалить"></MudIconButton>
        </MudTd>
        <MudTd>
            <MudIconButton Icon="fas fa-file-invoice" Color="MudBlazor.Color.Primary" Title="Проекты"></MudIconButton>
        </MudTd>
        <MudTd>
            <MudIconButton Icon="fas fa-file-invoice" Color="MudBlazor.Color.Primary" @onclick="@(e=>ShowParametersList(context))" Title="Параметры"></MudIconButton>
        </MudTd>
    </RowTemplate>
</MudTable>
    

@code
{
    private bool dense = false;
    private bool hover = true;
    
}
